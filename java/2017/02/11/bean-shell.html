<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta data -->
    <meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, shrink-to-fit=no, width=device-width">
<meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Window title -->
    <title>Bean Shell</title>

    <!-- CSS -->
    <!-- Material fonts from 'https://fonts.google.com' -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=Vollkorn:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 

<!-- Material Icon -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Font Awesome Icon -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

<!-- Add Material CSS. Replace Bootstrap CSS -->
<link href="/assets/daemonite-material/css/material.min.css" rel="stylesheet">

<!-- Material Color Palette - CSS Classes -->
<link href="/assets/material-design-color-palette/css/material-design-color-palette.css" rel="stylesheet">

<!-- CafeDuke CSS - Project specific Classes  -->
<link href="/assets/css/main.css" rel="stylesheet" type="text/css">

<!-- CafeDuke Syntax CSS - Code syntax highlight -->
<link href="/assets/css/duke-dark.css" rel="stylesheet" type="text/css">


</head>
<body>

    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark mdc-bg-purple-900">
    
    

    <!-- Collapse Icon -->
    <a id="sidebar-toggle" class="navbar-brand text-white" href="">
        <i class="material-icons md-24">menu</i>
    </a>

    <!-- NavBar Heading -->
    <a class="navbar-brand text-white" href="/">Cafe Duke Notes</a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Links -->
        <ul class="navbar-nav mr-auto">


        </ul>
        <!-- Links -->

        <!-- Search form
        <form class="form-inline">
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        </form>
         -->

    </div>
    <!-- Collapsible content -->

</nav>


    <!-- Row: Content -->
    <div class="container-fluid m-0 p-0 h-100">

        <div class="row h-100 no-gutters">

            <!-- Column: Sidebar -->
            <div id="sidebar">

    <ul class="nav flex-column">

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/">
                <i class="fas fa-home fa-lg"></i>
                <span class="nav-link-text">Home</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/java">
                <i class="fab fa-java fa-2x"></i>
                <span class="nav-link-text">Java</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/git">
                <i class="fab fa-git fa-lg"></i>
                <span class="nav-link-text">Git</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/cloud">
                <i class="material-icons md-24">cloud</i>
                <span class="nav-link-text">Cloud</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" data-toggle="collapse" data-target="#child-dl" href="#">
                <i class="fas fa-cogs fa-lg"></i>
                <span class="nav-link-text">Deep Learning</span>
            </a>
            <div id="child-dl" class="collapse">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning">
                            <span class="nav-link-text">Core</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/strategy">
                            <span class="nav-link-text">Strategy</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/cnn">
                            <span class="nav-link-text">CNN</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/rnn">
                            <span class="nav-link-text">RNN</span>
                        </a>
                    </li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/django">
                <i class="fa fa-lg">dj</i>
                <span class="nav-link-text">Django</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/spring">
                <i class="fas fa-leaf fa-lg"></i>
                <span class="nav-link-text">Spring</span>
            </a>
        </li>

    </ul>
</div>


            <!-- Column: Content Wrapper -->
            <div class="col">
                <div id="content" class="w-100">
<div id="post-wrap" class="row d-flex justify-content-center">

    <div class="card col-md-10 col-xs-12 mt-5">

        <div class="card-header">
            <h1 class="post-title">Bean Shell</h1>
            <h6 class="card-subtitle post-meta"> 
                Saturday, 11 February 2017
                
            </h6>            
        </div>

        <hr class="post-ruler">

        <div class="card-body">
            <nav>
  <h4>Table of Contents</h4>
<ol id="markdown-toc">
  <li>
<a href="#beanshell-platfrom-independent-scripts-using-java" id="markdown-toc-beanshell-platfrom-independent-scripts-using-java">BeanShell: Platfrom independent scripts using Java</a>    <ol>
      <li><a href="#why-beanshell" id="markdown-toc-why-beanshell">Why BeanShell?</a></li>
      <li><a href="#resources" id="markdown-toc-resources">Resources</a></li>
      <li>
<a href="#custom-commands-using-beanshell-for-linux" id="markdown-toc-custom-commands-using-beanshell-for-linux">Custom commands using BeanShell for Linux</a>        <ol>
          <li><a href="#typical-approach" id="markdown-toc-typical-approach">Typical approach</a></li>
          <li>
<a href="#using-custom-executable-in-hashbang-magic-linehashbang" id="markdown-toc-using-custom-executable-in-hashbang-magic-linehashbang">Using custom executable in HashBang (Magic Line/Hashbang)</a>            <ol>
              <li><a href="#create-a-wrapper-shell-script-for-beanshell---bsh" id="markdown-toc-create-a-wrapper-shell-script-for-beanshell---bsh">Create a Wrapper Shell script for BeanShell - bsh</a></li>
              <li><a href="#include-bsh-in-the-hashbang-of-beanshell-scripts" id="markdown-toc-include-bsh-in-the-hashbang-of-beanshell-scripts">Include bsh in the HashBang of beanshell scripts</a></li>
              <li><a href="#working" id="markdown-toc-working">Working</a></li>
            </ol>
          </li>
        </ol>
      </li>
      <li>
<a href="#custom-commands-using-beanshell-for-windows" id="markdown-toc-custom-commands-using-beanshell-for-windows">Custom commands using BeanShell for Windows</a>        <ol>
          <li><a href="#create-a-wrapper-executable-for-beanshell---bshcmd" id="markdown-toc-create-a-wrapper-executable-for-beanshell---bshcmd">Create a Wrapper executable for BeanShell - bsh.cmd</a></li>
          <li><a href="#use-bshcmd-to-execute-beanshell-script-with-the-same-name" id="markdown-toc-use-bshcmd-to-execute-beanshell-script-with-the-same-name">Use bsh.cmd to execute BeanShell script with the same name</a></li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

</nav>

<h1 id="beanshell-platfrom-independent-scripts-using-java">BeanShell: Platfrom independent scripts using Java</h1>

<h2 id="why-beanshell">Why BeanShell?</h2>

<p>One of the most intriguing feature of Linux is shell scripting. The power of shell scripting along with pipes to feed output of one command to the other, make it a delight to add a bunch of custom helper commands. These helper commands can range from simple aliases that help navigate to nested directories, to commands that start servers and setup test environment.</p>

<p>However, we feel crippled when working in a Windows environment. Creating and maintaining a batch equivalent of every shell script is a time consuming excercise. Using toolkits like <a href="https://en.wikipedia.org/wiki/MKS_Toolkit">MKS</a> or <a href="https://www.cygwin.com/">Cygwin</a> assist to a good extent by providing many Linux command equivalents on Windows. However, not all Linux command equivalents exist in the toolkit and several options do not work the same way, as they do on Linux. This would require us to maintain a batch/Perl script for Windows. Nevertheless, <a href="https://en.wikipedia.org/wiki/MKS_Toolkit">MKS</a> does provide an indispensable addition of simulating a Linux environment on Windows.</p>

<p>Scripting using Perl does sound like a good alternative. However, dependency on a external library (or Perl module) might require installation! A subset of Perl modules that do not require installation are called “Pure Perl Modules”. However, identifying these pure Perl modules is obscure.</p>

<p>External and <a href="http://www.java-opensource.com/">open source libraries available for Java</a> is overwhelming! Adding a new module just requires adding the JAR to classpath. BeanShell clubs the comfort of familiar Java syntax, scripting conveniences that requires no compilation with rich library support.</p>

<h2 id="resources">Resources</h2>

<p>There are good amount of documentation available to get started with writing BeanShell scripts.</p>

<p><a href="http://www.beanshell.org/manual/quickstart.html#Quick_Start">BeanShell Quick Start</a><br>
<a href="http://www.beanshell.org/home.html">BeanShell Home</a></p>

<p>Surprisingly, The latest BeanShell library not in the BeanShell <a href="http://www.beanshell.org/home.html">website</a>. Rather, latest <a href="http://code.google.com/p/beanshell2/">BeanShell 2</a> (2.1.8 as of now) is found in <a href="http://code.google.com/p/beanshell2/">code.google.com</a></p>

<h2 id="custom-commands-using-beanshell-for-linux">Custom commands using BeanShell for Linux</h2>

<h3 id="typical-approach">Typical approach</h3>

<p>Linux uses the <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix">SheBang</a>(Magic Line/HashBang  is the first line of a script file that begins with#! ) to identify the path to the executable, that shall be used to execute the current script. In case of BeanShell, we can use the <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix">HashBang</a> line <code class="language-plaintext highlighter-rouge">"#!/usr/bin/java bsh.Interpreter"</code> (as suggested in the BeanShell Manual). Details follow.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">export</span> <span class="no">CLASSPATH</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">CLASSPATH</span><span class="o">}:</span><span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">beanshell</span><span class="o">/*:</span><span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">jansi</span><span class="o">/*</span>  
<span class="err">$</span> <span class="n">export</span> <span class="no">PATH</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">PATH</span><span class="o">}:</span><span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span>  
  
<span class="err">$</span> <span class="n">cat</span> <span class="o">&gt;</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHello</span>  
<span class="err">#</span><span class="o">!/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">java</span> <span class="n">bsh</span><span class="o">.</span><span class="na">Interpreter</span>  
<span class="nf">print</span> <span class="o">(</span><span class="s">"Hello World"</span><span class="o">);</span>  
  
<span class="err">$</span> <span class="n">chmod</span> <span class="mi">755</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHello</span>  
  
<span class="err">$</span> <span class="n">sayHello</span>  
<span class="nc">Hello</span> <span class="nc">World</span>
</code></pre></div></div>
<p>Here, path to all necessary libraries are added to CLASSPATH. The directory having all our scripts is added to PATH environment variable. All scripts are given executable permission.</p>

<p>The above approach has the following caveats:</p>

<p>1) Path to Java is hard coded in the magic  line.</p>

<ul>
  <li>Many times, path to Java is expected to be constructed using the environment variable JAVA_HOME.</li>
  <li>Most Unix flavors do not support environment variables in <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix">HashBang</a>.</li>
</ul>

<p>2) CLASSPATH environment variable is used to set all necessary libraries.</p>

<ul>
  <li>Windows restricts the maximum length for environment variables.</li>
  <li>Setting environment variable CLASSPATH is not the recommended way. See below excerpt from <a href="https://docs.oracle.com/javase/tutorial/essential/environment/paths.html#classpath">The Java Tutotrial - PATH and CLASSPATH</a>
</li>
</ul>

<p>The CLASSPATH variable is one way to tell applications, including the JDK tools, where to look for user classes. (Classes that are part of the JRE, JDK platform, and extensions should be defined through other means, such as the bootstrap class path or the extensions directory.)</p>

<p>The preferred way to specify the class path is by using the -cp command line switch. This allows the CLASSPATH to be set individually for each application without affecting other applications. Setting the CLASSPATH can be tricky and should be performed with care.</p>

<h3 id="using-custom-executable-in-hashbang-magic-linehashbang">Using custom executable in HashBang (Magic Line/Hashbang)</h3>

<h4 id="create-a-wrapper-shell-script-for-beanshell---bsh">Create a Wrapper Shell script for BeanShell - bsh</h4>

<p>We create a command (an executable Shell script), namely bsh, as follows:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">export</span> <span class="no">PATH</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">PATH</span><span class="o">}:</span><span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span>  
  
<span class="err">$</span> <span class="n">cat</span> <span class="o">&gt;</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">bsh</span>  
<span class="err">#</span><span class="o">!/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>  
<span class="k">if</span> <span class="o">[</span> <span class="o">-</span><span class="n">z</span> <span class="s">"${JAVA_HOME}"</span> <span class="o">]</span>  
<span class="n">then</span>  
   <span class="n">echo</span> <span class="s">"JAVA_HOME not set"</span>  
   <span class="n">exit</span> <span class="mi">1</span>  
<span class="n">fi</span>  
<span class="no">DIR_LIB</span><span class="o">=</span><span class="s">"${HOME}/lib"</span><span class="o">;</span>  
<span class="err">$</span><span class="o">{</span><span class="no">JAVA_HOME</span><span class="o">}/</span><span class="n">bin</span><span class="o">/</span><span class="n">java</span> <span class="o">-</span><span class="n">cp</span> <span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">beanshell</span><span class="o">/*:</span><span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">jansi</span><span class="o">/*</span> <span class="n">bsh</span><span class="o">.</span><span class="na">Interpreter</span> <span class="s">"$@"</span>  
  
<span class="err">$</span> <span class="n">chmod</span> <span class="mi">755</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">bsh</span>
</code></pre></div></div>

<h4 id="include-bsh-in-the-hashbang-of-beanshell-scripts">Include bsh in the HashBang of beanshell scripts</h4>

<p>We use bsh as the <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix">HashBang</a> of the beanshell scripts we create as follows:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">cat</span> <span class="o">&gt;</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHi</span>  
<span class="err">#</span><span class="o">!/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">env</span> <span class="n">bsh</span>  
<span class="nf">print</span> <span class="o">(</span><span class="s">"Hi"</span><span class="o">);</span>  
  
<span class="err">$</span> <span class="n">chmod</span> <span class="mi">755</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHi</span>  
  
<span class="err">$</span> <span class="n">sayHi</span>  
<span class="nc">Hi</span>
</code></pre></div></div>

<h4 id="working">Working</h4>

<p>1) Typing “sayHi” searches for an executable named “sayHi” in PATH</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Result:</span> <span class="nc">Finds</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHi</span>  

</code></pre></div></div>
<p>2) Using “/usr/bin/env bsh” searches for an executable named “bsh” in PATH.</p>

<ul>
  <li>
    <p>We can use the absolute path to bsh in HashBang as well.  (Like <code class="language-plaintext highlighter-rouge">#!/home/raghu/scripts/bsh</code> )</p>
  </li>
  <li>
    <p>However, absolute path cannot be used when we are checking in the scripts in a version control system. This is because each user can pull the sources into a different directory.</p>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Result:</span>  <span class="nc">Finds</span> <span class="err">$</span><span class="o">{</span><span class="no">HOME</span><span class="o">}/</span><span class="n">scripts</span><span class="o">/</span><span class="n">bsh</span>
</code></pre></div></div>

<p>3) bsh script is used to execute sayHi.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">This</span> <span class="n">is</span> <span class="n">same</span> <span class="n">as</span> <span class="nl">executing:</span>  
<span class="n">$HOME</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">bsh</span> <span class="n">$HOME</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">sayHi</span>
</code></pre></div></div>

<p>4) bsh executes Java class bsh.Interpreter with all libraries in classpath.  File name “sayHi”  shall be a command line argument. (Had we provided command line arguments to sayHi, they would follow)</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">This</span> <span class="n">is</span> <span class="n">same</span> <span class="n">as</span> <span class="nl">executing:</span>  
<span class="err">$</span><span class="o">{</span><span class="no">JAVA_HOME</span><span class="o">}/</span><span class="n">bin</span><span class="o">/</span><span class="n">java</span>   
   <span class="o">-</span><span class="n">cp</span> <span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">beanshell</span><span class="o">/*:</span><span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}/</span><span class="n">jansi</span><span class="o">/*</span> <span class="n">bsh</span><span class="o">.</span><span class="na">Interpreter</span> <span class="n">sayHi</span>
</code></pre></div></div>

<h2 id="custom-commands-using-beanshell-for-windows">Custom commands using BeanShell for Windows</h2>

<h4 id="create-a-wrapper-executable-for-beanshell---bshcmd">Create a Wrapper executable for BeanShell - bsh.cmd</h4>

<p>First, we create a command (an executable .cmd file), namely bsh.cmd, as follows.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@echo</span> <span class="n">off</span>  
<span class="no">IF</span> <span class="no">NOT</span> <span class="no">DEFINED</span> <span class="nf">JAVA_HOME</span> <span class="o">(</span>  
  <span class="n">echo</span> <span class="no">JAVA_HOME</span> <span class="n">is</span> <span class="n">not</span> <span class="n">set</span>  
  <span class="n">exit</span> <span class="o">/</span><span class="no">B</span>  
<span class="o">)</span>  
  
<span class="n">set</span> <span class="no">DIR_LIB</span><span class="o">=%</span><span class="no">HOMEPATH</span><span class="o">%</span><span class="err">\\</span><span class="n">lib</span>  
<span class="err">$</span><span class="o">{</span><span class="no">JAVA_HOME</span><span class="o">}</span><span class="err">\\</span><span class="n">bin</span><span class="err">\\</span><span class="n">java</span> <span class="o">-</span><span class="n">cp</span> <span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}</span><span class="err">\\</span><span class="n">beanshell</span><span class="err">\</span><span class="o">*:</span><span class="err">$</span><span class="o">{</span><span class="no">DIR_LIB</span><span class="o">}</span><span class="err">\\</span><span class="n">jansi</span><span class="err">\</span><span class="o">*</span> <span class="n">bsh</span><span class="o">.</span><span class="na">Interpreter</span> <span class="s">"$@"</span>
</code></pre></div></div>
<p>Add the directory having all our scripts (<code class="language-plaintext highlighter-rouge">%HOMEPATH%\\scripts</code>) to PATH environment variable. Please find instructions <a href="http://www.computerhope.com/issues/ch000549.htm">here</a>.</p>

<h4 id="use-bshcmd-to-execute-beanshell-script-with-the-same-name">Use bsh.cmd to execute BeanShell script with the same name</h4>

<p>On Linux, we can create an executable file named “sayHello”. The file shall execute when we type “sayHello”, as long as it is found in PATH. The <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix">HashBang</a> shall provide details on the execution mechanism. Creating custom commands on Linux, requires creating files without extension.</p>

<p>However, on Windows, a file’s execution mechanism is identified from its extension. So, to create a command named “sayHello” we shall create a file named “sayHello.cmd”. The Windows executable “sayHello.cmd” shall have Windows commands to simply execute the bean shell script “sayHello”.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">C:</span><span class="err">\\</span><span class="o">&gt;</span> <span class="n">type</span> <span class="nl">C:</span><span class="err">\\</span><span class="nc">Users</span><span class="err">\\</span><span class="nc">Raghu</span><span class="err">\\</span><span class="n">scripts</span><span class="err">\\</span><span class="n">sayHello</span><span class="o">.</span><span class="na">cmd</span>  
<span class="nd">@echo</span> <span class="n">off</span>  
<span class="n">set</span> <span class="nc">CurrCMDPath</span><span class="o">=%~</span><span class="n">dp0</span>  
<span class="n">set</span> <span class="nc">CurrCMDName</span><span class="o">=%~</span><span class="n">n0</span>  
<span class="n">bsh</span> <span class="o">%</span><span class="nc">CurrCMDPath</span><span class="o">%%</span><span class="nc">CurrCMDName</span><span class="o">%</span> <span class="o">%*</span>  
  
<span class="nl">C:</span><span class="o">&gt;</span> <span class="n">sayHello</span>  
<span class="nc">Hello</span> <span class="nc">World</span>
</code></pre></div></div>
<p>Here,</p>

<ul>
  <li>Variable <code class="language-plaintext highlighter-rouge">CurrCMDPath</code> will have the path to current CMD file. In above example, <code class="language-plaintext highlighter-rouge">CurrrCMDPath=C:\\Users\\Raghu\\scripts</code>
</li>
  <li>Variable <code class="language-plaintext highlighter-rouge">CurrCMDName</code> will have the name of the current CMD file without extension. In above example, <code class="language-plaintext highlighter-rouge">CurrCMDName=sayHello</code>
</li>
  <li>bsh.cmd is used to execute BeanShell script “sayHello” as follows: <code class="language-plaintext highlighter-rouge">bsh C:\\Users\\Raghu\\scripts\\sayHello</code>
</li>
  <li>Any command line arguments received by sayHello.cmd shall follow <code class="language-plaintext highlighter-rouge">"bsh C:\\Users\\Raghu\\scripts\\sayHello"</code>
</li>
</ul>

<p>Thus, adding more BeanShell commands shall simply mean creating the corresponding CMD file for Windows. The content of all the CMD file shall be the same (as sayHello.cmd, given above)!</p>

<p>We can use BeanShell to create <a href="https://en.wikipedia.org/wiki/Write_once,_run_anywhere">WORA (Write Once Run Anywhere)</a> scripts.</p>

        </div>

        <div class="card-footer">
            
        </div>

    </div>

</div>
</div>
                <!-- <div id="footer" class="w-100"><div class="footer">
    <div class="footer-col footer-col-1">
    <ul class="contact-list">
      <li>
        <span class="site-author">
           
             Raghunandan.Seshadri
           
        </span>
      </li>

      
      <li><a href="mailto:raghubs81@gmail.com">raghubs81@gmail.com</a></li>
      

      
      <li>
        <a href="https://github.com/cafeduke"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">cafeduke</span></a>

      </li>
      

    </ul>
    </div>

    <div class="footer-col footer-col-2">
     <ul class="contact-list">
        
           <li>Duke notes. Happy learning!</li>
        
     </ul>
    </div>
</div></div> -->
            </div>
        </div>
    </div>

    <!-- JS -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

<!-- Popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

<!-- Bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!-- Material JavaScript on top of Bootstrap JavaScript -->
<script src="/assets/daemonite-material/js/material.min.js"></script>

<!-- Include and configure MathJax -->
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
      jax: ["input/AsciiMath", "input/TeX", "input/MathML", "output/HTML-CSS"],
      asciimath2jax: {
         delimiters: [['`','`'], ['$$','$$'], ['$','$']]
      },
      "HTML-CSS": {
         preferredFont:"TeX", availableFonts:["STIX","TeX"]
      }
   });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>

<script src="/assets/js/mermaid.min.js"></script>

<!-- Google analytics -->


<!-- Sidebar -->
<script src="/assets/js/sidebar.js"></script>



   </body>

</html>
