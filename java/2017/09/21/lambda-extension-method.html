<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta data -->
    <meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, shrink-to-fit=no, width=device-width">
<meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Window title -->
    <title>Brewing Lambda - Extension Method</title>

    <!-- CSS -->
    <!-- Material fonts from 'https://fonts.google.com' -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=Vollkorn:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 

<!-- Material Icon -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Font Awesome Icon -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

<!-- Add Material CSS. Replace Bootstrap CSS -->
<link href="/assets/daemonite-material/css/material.min.css" rel="stylesheet">

<!-- Material Color Palette - CSS Classes -->
<link href="/assets/material-design-color-palette/css/material-design-color-palette.css" rel="stylesheet">

<!-- CafeDuke CSS - Project specific Classes  -->
<link href="/assets/css/main.css" rel="stylesheet" type="text/css">

<!-- CafeDuke Syntax CSS - Code syntax highlight -->
<link href="/assets/css/duke-dark.css" rel="stylesheet" type="text/css">


</head>
<body>

    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark mdc-bg-purple-900">
    
    

    <!-- Collapse Icon -->
    <a id="sidebar-toggle" class="navbar-brand text-white" href="">
        <i class="material-icons md-24">menu</i>
    </a>

    <!-- NavBar Heading -->
    <a class="navbar-brand text-white" href="/">Cafe Duke Notes</a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Links -->
        <ul class="navbar-nav mr-auto">


        </ul>
        <!-- Links -->

        <!-- Search form
        <form class="form-inline">
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        </form>
         -->

    </div>
    <!-- Collapsible content -->

</nav>


    <!-- Row: Content -->
    <div class="container-fluid m-0 p-0 h-100">

        <div class="row h-100 no-gutters">

            <!-- Column: Sidebar -->
            <div id="sidebar">

    <ul class="nav flex-column">

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/">
                <i class="fas fa-home fa-lg"></i>
                <span class="nav-link-text">Home</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/java">
                <i class="fab fa-java fa-2x"></i>
                <span class="nav-link-text">Java</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/git">
                <i class="fab fa-git fa-lg"></i>
                <span class="nav-link-text">Git</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/cloud">
                <i class="material-icons md-24">cloud</i>
                <span class="nav-link-text">Cloud</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" data-toggle="collapse" data-target="#child-dl" href="#">
                <i class="fas fa-cogs fa-lg"></i>
                <span class="nav-link-text">Deep Learning</span>
            </a>
            <div id="child-dl" class="collapse">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning">
                            <span class="nav-link-text">Core</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/strategy">
                            <span class="nav-link-text">Strategy</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/cnn">
                            <span class="nav-link-text">CNN</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/rnn">
                            <span class="nav-link-text">RNN</span>
                        </a>
                    </li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/django">
                <i class="fa fa-lg">dj</i>
                <span class="nav-link-text">Django</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/spring">
                <i class="fas fa-leaf fa-lg"></i>
                <span class="nav-link-text">Spring</span>
            </a>
        </li>

    </ul>
</div>


            <!-- Column: Content Wrapper -->
            <div class="col">
                <div id="content" class="w-100">
<div id="post-wrap" class="row d-flex justify-content-center">

    <div class="card col-md-10 col-xs-12 mt-5">

        <div class="card-header">
            <h1 class="post-title">Brewing Lambda - Extension Method</h1>
            <h6 class="card-subtitle post-meta"> 
                Thursday, 21 September 2017
                
            </h6>            
        </div>

        <hr class="post-ruler">

        <div class="card-body">
            <nav>
  <h4>Table of Contents</h4>
<ol id="markdown-toc">
  <li>
<a href="#brewing-lambda---functional-interface--extension-methods" id="markdown-toc-brewing-lambda---functional-interface--extension-methods">Brewing Lambda - Functional Interface &amp; Extension Methods</a>    <ol>
      <li><a href="#functionalinterface" id="markdown-toc-functionalinterface">@FunctionalInterface</a></li>
      <li><a href="#extension-method" id="markdown-toc-extension-method">Extension Method</a></li>
      <li><a href="#extension-method-and-functional-interface" id="markdown-toc-extension-method-and-functional-interface">Extension Method and Functional Interface</a></li>
    </ol>
  </li>
</ol>

</nav>

<h1 id="brewing-lambda---functional-interface--extension-methods">Brewing Lambda - Functional Interface &amp; Extension Methods</h1>

<h2 id="functionalinterface">@FunctionalInterface</h2>

<p>Lambda expression can be used instantiate an object of an interface type that has only abstract method. Since there is only one abstract method, the name of the method, argument types and return type are inferred from the signature of the abstract method. Hence, the lambda expression need not include these boilerplate code. Such interfaces that have one and only one abstract method are called functional interfaces.</p>

<p>Java compiler flags an error if additional abstract methods are added to an interface annotated with @FunctionalInterface annotation.</p>

<p><img src="images/FunctionalInterfaceError.jpg" alt="Functional Interface Error"><br>
Lambda expression can be used on interfaces with one abstract method even if it is not annotated with @FunctionalInterface. However, it is recommended.</p>

<h2 id="extension-method">Extension Method</h2>

<p>An interface in Java 8 can have non-static (instance) methods with method body. These methods are prefixed with a keyword default. Such methods are called extension methods.</p>

<p>Note: This is not the same as default visibility of instance methods in a class. In a class, not mentioning any visibility (private, protected or public) results in default visibility. Here, we cannot use ‘default’ as a keyword. The keyword ‘default’ can be used only in an interface (in Java 8).</p>

<p>Extension methods are valid only for an interface. It is a new addition and a radical change from the conventional idea of an interface, where interface never had functions with method body. Below is an example of an interface with extension methods. Note that TrendStylist is not a functional interface. Extension methods are hence not limited to functional interfaces.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TrendStylist</span>  
<span class="o">{</span>  
   <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">String</span> <span class="nf">getLeftStyle</span>  <span class="o">();</span>  
     
   <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">String</span> <span class="nf">getRightStyle</span> <span class="o">();</span>  
     
   <span class="k">default</span> <span class="nc">String</span> <span class="nf">padStyles</span> <span class="o">(</span><span class="nc">String</span> <span class="n">mesg</span><span class="o">)</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="nf">getLeftStyle</span><span class="o">()</span> <span class="o">+</span> <span class="n">mesg</span> <span class="o">+</span> <span class="n">getRightStyle</span> <span class="o">();</span>  
   <span class="o">}</span>  
<span class="o">}</span>
</code></pre></div></div>
<p>All methods of an interface including the extension methods are inherited with ‘public’ visibility. In the below example, <code class="language-plaintext highlighter-rouge">MyTrendStylist</code> class implements the abstract methods  defined in <code class="language-plaintext highlighter-rouge">TrendStylist</code>. The extension method <code class="language-plaintext highlighter-rouge">padSytles</code> is also inherited with public visibility and call be called using an object of type <code class="language-plaintext highlighter-rouge">MyTrendStylist</code>.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExtensionMethodDemo</span>  
<span class="o">{</span>  
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="nc">String</span> <span class="n">arg</span><span class="o">[])</span>  
   <span class="o">{</span>  
      <span class="nc">MyTrendStylist</span> <span class="n">myStylist</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyTrendStylist</span> <span class="o">();</span>  
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myStylist</span><span class="o">.</span><span class="na">getLeftStyle</span><span class="o">());</span>  
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myStylist</span><span class="o">.</span><span class="na">getRightStyle</span><span class="o">());</span>  
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myStylist</span><span class="o">.</span><span class="na">padStyles</span> <span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">));</span>  
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myStylist</span><span class="o">.</span><span class="na">padPipe</span>   <span class="o">(</span><span class="s">"Hello World"</span><span class="o">));</span>  
   <span class="o">}</span>  
<span class="o">}</span>  
  
<span class="kd">class</span> <span class="nc">MyTrendStylist</span> <span class="kd">implements</span> <span class="nc">TrendStylist</span>   
<span class="o">{</span>  
   <span class="nd">@Override</span>  
   <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getLeftStyle</span> <span class="o">()</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="s">"&lt;--"</span><span class="o">;</span>  
   <span class="o">}</span>  
  
   <span class="nd">@Override</span>  
   <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getRightStyle</span><span class="o">()</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="s">"--&gt;"</span><span class="o">;</span>  
   <span class="o">}</span>  
     
   <span class="kd">public</span> <span class="nc">String</span> <span class="nf">padPipe</span> <span class="o">(</span><span class="nc">String</span> <span class="n">mesg</span><span class="o">)</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="s">"||"</span> <span class="err">\</span><span class="o">+</span> <span class="n">mesg</span> <span class="o">+</span> <span class="s">"||"</span><span class="o">;</span>  
   <span class="o">}</span>  
<span class="o">}</span>  

</code></pre></div></div>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Output:</span>  
<span class="o">&lt;--</span>  
<span class="o">--&gt;</span>  
<span class="o">&lt;--</span><span class="nc">HelloWorld</span><span class="o">--&gt;</span>  
<span class="o">||</span><span class="nc">Hello</span> <span class="nc">World</span><span class="o">||</span>  

</code></pre></div></div>
<p>An extension method can be overridden in the implementing class but the visibility cannot be reduced (like any other method overriding) from public.</p>

<h2 id="extension-method-and-functional-interface">Extension Method and Functional Interface</h2>

<p>Extension methods are an independent Java 8 feature as shown in previous examples. Since extension methods can be added to any interface, they can be added to functional interfaces as well. Lets add some extension methods to our <code class="language-plaintext highlighter-rouge">Stylist</code> functional interface.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FunctionalInterface</span>  
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Stylist</span>  
<span class="o">{</span>  
   <span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">String</span> <span class="nf">doStyle</span> <span class="o">(</span><span class="nc">String</span> <span class="n">mesg</span><span class="o">);</span>  
     
   <span class="k">default</span> <span class="nc">Stylist</span> <span class="nf">padSmile</span> <span class="o">()</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="s">":-) "</span> <span class="err">\</span><span class="o">+</span> <span class="n">doStyle</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">+</span> <span class="s">" (-:"</span><span class="o">;</span>  
   <span class="o">}</span>  
     
   <span class="k">default</span> <span class="nc">Stylist</span> <span class="nf">padWink</span> <span class="o">()</span>  
   <span class="o">{</span>  
      <span class="k">return</span> <span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="s">";-) "</span> <span class="err">\</span><span class="o">+</span> <span class="n">doStyle</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">+</span> <span class="s">" (-;"</span><span class="o">;</span>  
   <span class="o">}</span>  
<span class="o">}</span>
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">padSmile</code> extension method returns a <code class="language-plaintext highlighter-rouge">Stylist</code>. Since <code class="language-plaintext highlighter-rouge">Stylist</code> is a functional interface, lambda expression can be used to construct the <code class="language-plaintext highlighter-rouge">Stylist</code> object. The <code class="language-plaintext highlighter-rouge">padSmile</code> extension method pads a smile face to the <code class="language-plaintext highlighter-rouge">doSytle</code> implementation. Since <code class="language-plaintext highlighter-rouge">padSmile</code> and <code class="language-plaintext highlighter-rouge">padWink</code> in turn return an object of type <code class="language-plaintext highlighter-rouge">Stylist</code> they can be used as builder as given below.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Stylist</span> <span class="n">stylist</span> <span class="o">=</span> <span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="s">"'"</span> <span class="err">\</span><span class="o">+</span> <span class="n">s</span> <span class="o">+</span>  <span class="s">"'"</span><span class="o">;</span>  
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stylist</span><span class="o">.</span><span class="na">padWink</span><span class="o">().</span><span class="na">padSmile</span><span class="o">().</span><span class="na">doStyle</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">));</span>
</code></pre></div></div>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">Output:</span>  
<span class="o">:-)</span> <span class="o">;-)</span> <span class="err">'</span><span class="nc">HelloWorld</span><span class="err">'</span> <span class="o">(-;</span> <span class="o">(-:</span>
</code></pre></div></div>

<p>We have created a stylist object that wraps a given string in single quotes. Now, <code class="language-plaintext highlighter-rouge">padWink</code> pads this with a wink and returns the resultant <code class="language-plaintext highlighter-rouge">Stylist</code> object. <code class="language-plaintext highlighter-rouge">padSmile</code> in turn pads this with a smile.</p>

        </div>

        <div class="card-footer">
            
        </div>

    </div>

</div>
</div>
                <!-- <div id="footer" class="w-100"><div class="footer">
    <div class="footer-col footer-col-1">
    <ul class="contact-list">
      <li>
        <span class="site-author">
           
             Raghunandan.Seshadri
           
        </span>
      </li>

      
      <li><a href="mailto:raghubs81@gmail.com">raghubs81@gmail.com</a></li>
      

      
      <li>
        <a href="https://github.com/cafeduke"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">cafeduke</span></a>

      </li>
      

    </ul>
    </div>

    <div class="footer-col footer-col-2">
     <ul class="contact-list">
        
           <li>Duke notes. Happy learning!</li>
        
     </ul>
    </div>
</div></div> -->
            </div>
        </div>
    </div>

    <!-- JS -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

<!-- Popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

<!-- Bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!-- Material JavaScript on top of Bootstrap JavaScript -->
<script src="/assets/daemonite-material/js/material.min.js"></script>

<!-- Include and configure MathJax -->
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
      jax: ["input/AsciiMath", "input/TeX", "input/MathML", "output/HTML-CSS"],
      asciimath2jax: {
         delimiters: [['`','`'], ['$$','$$'], ['$','$']]
      },
      "HTML-CSS": {
         preferredFont:"TeX", availableFonts:["STIX","TeX"]
      }
   });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>

<script src="/assets/js/mermaid.min.js"></script>

<!-- Google analytics -->


<!-- Sidebar -->
<script src="/assets/js/sidebar.js"></script>



   </body>

</html>
