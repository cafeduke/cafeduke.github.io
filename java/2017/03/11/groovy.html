<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta data -->
    <meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, shrink-to-fit=no, width=device-width">
<meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Window title -->
    <title>Groovy</title>

    <!-- CSS -->
    <!-- Material fonts from 'https://fonts.google.com' -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=Vollkorn:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"> 

<!-- Material Icon -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Font Awesome Icon -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

<!-- Add Material CSS. Replace Bootstrap CSS -->
<link href="/assets/daemonite-material/css/material.min.css" rel="stylesheet">

<!-- Material Color Palette - CSS Classes -->
<link href="/assets/material-design-color-palette/css/material-design-color-palette.css" rel="stylesheet">

<!-- CafeDuke CSS - Project specific Classes  -->
<link href="/assets/css/main.css" rel="stylesheet" type="text/css">

<!-- CafeDuke Syntax CSS - Code syntax highlight -->
<link href="/assets/css/duke-dark.css" rel="stylesheet" type="text/css">


</head>
<body>

    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark mdc-bg-purple-900">
    
    

    <!-- Collapse Icon -->
    <a id="sidebar-toggle" class="navbar-brand text-white" href="">
        <i class="material-icons md-24">menu</i>
    </a>

    <!-- NavBar Heading -->
    <a class="navbar-brand text-white" href="/">Cafe Duke Notes</a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Links -->
        <ul class="navbar-nav mr-auto">


        </ul>
        <!-- Links -->

        <!-- Search form
        <form class="form-inline">
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        </form>
         -->

    </div>
    <!-- Collapsible content -->

</nav>


    <!-- Row: Content -->
    <div class="container-fluid m-0 p-0 h-100">

        <div class="row h-100 no-gutters">

            <!-- Column: Sidebar -->
            <div id="sidebar">

    <ul class="nav flex-column">

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/">
                <i class="fas fa-home fa-lg"></i>
                <span class="nav-link-text">Home</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/java">
                <i class="fab fa-java fa-2x"></i>
                <span class="nav-link-text">Java</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/git">
                <i class="fab fa-git fa-lg"></i>
                <span class="nav-link-text">Git</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/cloud">
                <i class="material-icons md-24">cloud</i>
                <span class="nav-link-text">Cloud</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" data-toggle="collapse" data-target="#child-dl" href="#">
                <i class="fas fa-cogs fa-lg"></i>
                <span class="nav-link-text">Deep Learning</span>
            </a>
            <div id="child-dl" class="collapse">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning">
                            <span class="nav-link-text">Core</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/strategy">
                            <span class="nav-link-text">Strategy</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/cnn">
                            <span class="nav-link-text">CNN</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="/deeplearning/rnn">
                            <span class="nav-link-text">RNN</span>
                        </a>
                    </li>
                </ul>
            </div>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/django">
                <i class="fa fa-lg">dj</i>
                <span class="nav-link-text">Django</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link d-flex align-items-center" href="/spring">
                <i class="fas fa-leaf fa-lg"></i>
                <span class="nav-link-text">Spring</span>
            </a>
        </li>

    </ul>
</div>


            <!-- Column: Content Wrapper -->
            <div class="col">
                <div id="content" class="w-100">
<div id="post-wrap" class="row d-flex justify-content-center">

    <div class="card col-md-10 col-xs-12 mt-5">

        <div class="card-header">
            <h1 class="post-title">Groovy</h1>
            <h6 class="card-subtitle post-meta"> 
                Saturday, 11 March 2017
                
            </h6>            
        </div>

        <hr class="post-ruler">

        <div class="card-body">
            <nav>
  <h4>Table of Contents</h4>
<ol id="markdown-toc">
  <li>
<a href="#groovy-platfrom-independent-scripts-using-java" id="markdown-toc-groovy-platfrom-independent-scripts-using-java">Groovy: Platfrom independent scripts using Java</a>    <ol>
      <li><a href="#initializing-a-string-array" id="markdown-toc-initializing-a-string-array">Initializing a String array</a></li>
      <li><a href="#passing-string-array-as-argument" id="markdown-toc-passing-string-array-as-argument">Passing String array as argument</a></li>
      <li><a href="#passing-char-as-argument" id="markdown-toc-passing-char-as-argument">Passing char as argument</a></li>
      <li><a href="#visibility---script-global-variables" id="markdown-toc-visibility---script-global-variables">Visibility - Script global variables</a></li>
      <li>
<a href="#closures-instead-of-lambda" id="markdown-toc-closures-instead-of-lambda">Closures Instead of Lambda</a>        <ol>
          <li><a href="#iteration" id="markdown-toc-iteration">Iteration</a></li>
          <li><a href="#sort-using-comparator" id="markdown-toc-sort-using-comparator">Sort using comparator</a></li>
          <li><a href="#stream" id="markdown-toc-stream">Stream</a></li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

</nav>

<h1 id="groovy-platfrom-independent-scripts-using-java">Groovy: Platfrom independent scripts using Java</h1>

<p>This document sees Groovy in light of Java developer wishing to create custom commands by writing platform independent scripts. Moving  Java code to Groovy is not seamless, but not tedious as well. However, there are differences that needs explicit care. To begin with a Java developer needs to go through <a href="http://www.groovy-lang.org/differences.html">Differences With Java</a>. However, there are subtle aspects that might require explicit mention. Hopefully, this article address at least few such cases.</p>

<h2 id="initializing-a-string-array">Initializing a String array</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="nc">String</span> <span class="n">name</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span> <span class="o">[]</span> <span class="o">{</span><span class="s">"apple"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">};</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="nc">String</span><span class="o">[]</span> <span class="n">name</span> <span class="o">=</span> <span class="o">[</span><span class="s">"apple"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">];</span>
</code></pre></div></div>
<p>Note</p>

<ul>
  <li>The syntax <code class="language-plaintext highlighter-rouge">\["apple", "bat", "cat"\]</code> creates a List. However, we can assign the List to an array to get an array of String.</li>
  <li>
    <p>Java supports both of the following syntaxes for creating arrays. Groovy supports only the first one.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">String\[\] name</code></p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">String name\[\]</code></li>
</ul>

<h2 id="passing-string-array-as-argument">Passing String array as argument</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="n">fun</span> <span class="o">(</span><span class="k">new</span> <span class="nc">String</span> <span class="o">[]</span> <span class="o">{</span><span class="s">"apple"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">});</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="n">fun</span> <span class="o">([</span><span class="s">"apple"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">]</span> <span class="n">as</span> <span class="nc">String</span><span class="o">[]);</span>  
  
<span class="cm">/* Common code*/</span>  
<span class="kt">void</span> <span class="nf">fun</span> <span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">name</span><span class="o">)</span>  
<span class="o">{</span>  
   <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">currName</span> <span class="o">:</span> <span class="n">name</span><span class="o">)</span>  
      <span class="n">println</span> <span class="o">(</span><span class="n">currName</span><span class="o">);</span>  
<span class="o">}</span>
</code></pre></div></div>
<p>Since <code class="language-plaintext highlighter-rouge">\["apple", "bat", "cat"\]</code> creates a List. The Java code shown above results in java.lang.ClassCastException in Groovy.</p>

<h2 id="passing-char-as-argument">Passing char as argument</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="n">fun</span> <span class="o">(</span><span class="sc">'#'</span><span class="o">);</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="n">fun</span> <span class="o">(</span><span class="sc">'#'</span> <span class="n">as</span> <span class="kt">char</span><span class="o">);</span>  
  
<span class="cm">/* Common code*/</span>  
<span class="kt">void</span> <span class="nf">fun</span> <span class="o">(</span><span class="kt">char</span> <span class="n">ch</span><span class="o">)</span>  
<span class="o">{</span>  
 <span class="n">println</span> <span class="o">(</span><span class="s">"Char="</span> <span class="err">\</span><span class="o">+</span> <span class="n">ch</span><span class="o">)</span>  
<span class="o">}</span>
</code></pre></div></div>

<h2 id="visibility---script-global-variables">Visibility - Script global variables</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">groovy.transform.Field</span><span class="o">;</span>  
  
<span class="nc">String</span> <span class="n">a</span> <span class="o">=</span> <span class="s">"apple"</span><span class="o">;</span>  
  
<span class="nd">@Field</span>  
<span class="nc">String</span> <span class="n">b</span> <span class="o">=</span> <span class="s">"bat"</span><span class="o">;</span>  
  
<span class="n">println</span> <span class="o">(</span><span class="s">"A for "</span> <span class="err">\</span><span class="o">+</span> <span class="n">a</span><span class="o">);</span> <span class="c1">// Works  </span>
<span class="n">println</span> <span class="o">(</span><span class="s">"B for "</span> <span class="err">\</span><span class="o">+</span> <span class="n">b</span><span class="o">);</span> <span class="c1">// Works  </span>
<span class="n">fun</span> <span class="o">();</span>  
  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">fun</span> <span class="o">()</span>  
<span class="o">{</span>  
   <span class="n">println</span> <span class="o">(</span><span class="s">"Fun: A for "</span> <span class="err">\</span><span class="o">+</span> <span class="n">a</span><span class="o">);</span> <span class="c1">// Does not work!  </span>
   <span class="n">println</span> <span class="o">(</span><span class="s">"Fun: B for "</span> <span class="err">\</span><span class="o">+</span> <span class="n">b</span><span class="o">);</span> <span class="c1">// Works  </span>
<span class="o">}</span>  

</code></pre></div></div>
<p>While writing Groovy scripts, a variable outside all the functions (Lets say, main area) is not a global variable as one might expect. These variables are local to the code in main area. In order to create a variable analogous to instance variable or script global variable, annotate the declaration with “@Field”.  Note: This requires “<code class="language-plaintext highlighter-rouge">import groovy.transform.Field</code>”</p>

<h2 id="closures-instead-of-lambda">Closures Instead of Lambda</h2>

<p>Below are few examples where Groovy closures were written to replace the Java’s lambda expressions.</p>

<h3 id="iteration">Iteration</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="err">\</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"fish"</span><span class="o">,</span> <span class="s">"ink"</span><span class="o">,</span> <span class="s">"jug"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"apple"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">,</span> <span class="s">"egg"</span><span class="o">);</span>  
<span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span> <span class="o">(</span><span class="n">s</span><span class="o">));</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="err">\</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="o">[</span><span class="s">"fish"</span><span class="o">,</span> <span class="s">"ink"</span><span class="o">,</span> <span class="s">"jug"</span><span class="o">,</span> <span class="s">"bat"</span><span class="o">,</span> <span class="s">"apple"</span><span class="o">,</span> <span class="s">"cat"</span><span class="o">,</span> <span class="s">"egg"</span><span class="o">];</span>  
<span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">({</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="o">(</span><span class="n">s</span><span class="o">)});</span>
</code></pre></div></div>

<h3 id="sort-using-comparator">Sort using comparator</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="n">list</span><span class="o">.</span><span class="na">sort</span><span class="o">((</span><span class="n">s1</span><span class="o">,</span><span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">));</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="n">list</span><span class="o">.</span><span class="na">sort</span><span class="o">({</span><span class="n">s1</span><span class="o">,</span><span class="n">s2</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">)});</span>
</code></pre></div></div>

<h3 id="stream">Stream</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* Java Code */</span>  
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>  
    <span class="o">.</span><span class="na">filter</span><span class="o">((</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="o">)</span>  
    <span class="o">.</span><span class="na">sorted</span><span class="o">((</span><span class="n">s1</span><span class="o">,</span><span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">))</span>  
    <span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span> <span class="o">(</span><span class="n">s</span><span class="o">));</span>  
  
<span class="cm">/* Groovy Code */</span>  
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>  
    <span class="o">.</span><span class="na">filter</span><span class="o">({</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="o">})</span>  
    <span class="o">.</span><span class="na">sorted</span><span class="o">({</span><span class="n">s1</span><span class="o">,</span><span class="n">s2</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">)})</span>  
    <span class="o">.</span><span class="na">forEach</span><span class="o">({</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">println</span> <span class="o">(</span><span class="n">s</span><span class="o">)});</span>  
  

</code></pre></div></div>
<p>Note the following syntax differences</p>

<ul>
  <li>Closures are surrounded by braces { }. Not the case in lambda.</li>
  <li>Lambda parameters are surrounded by parenthesis (). Not the case in closure.</li>
</ul>

<p>Groovy archive comes with a big list of JAR files and executables for Linux and windows. You could create your own groovy executable, include custom JARs in path and use this to execute your groovy scripts as well. (Similar to <a href="https://blogs.oracle.com/brewing-tests/entry/beanshell_platfrom_independent_scripts_using">BeanShell</a>). However, unfortunately, BeanShell that was both light weight and seamless to a Java programmer is not maintained. It does not support generics or lambda expressions. So, If you are looking for scripting using Java, <a href="https://www.java.com/en/download/faq/java_javascript.xml">Javascript is not Java</a> and if the cocktail of including Java within Javascirpt (and/or vice versa) does not appeal to you then Groovy is the way to go.</p>

<p>Hopefully, the dream of having a scripting language closest to Java is kept alive by Groovy!</p>

        </div>

        <div class="card-footer">
            
        </div>

    </div>

</div>
</div>
                <!-- <div id="footer" class="w-100"><div class="footer">
    <div class="footer-col footer-col-1">
    <ul class="contact-list">
      <li>
        <span class="site-author">
           
             Raghunandan.Seshadri
           
        </span>
      </li>

      
      <li><a href="mailto:raghubs81@gmail.com">raghubs81@gmail.com</a></li>
      

      
      <li>
        <a href="https://github.com/cafeduke"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">cafeduke</span></a>

      </li>
      

    </ul>
    </div>

    <div class="footer-col footer-col-2">
     <ul class="contact-list">
        
           <li>Duke notes. Happy learning!</li>
        
     </ul>
    </div>
</div></div> -->
            </div>
        </div>
    </div>

    <!-- JS -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

<!-- Popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

<!-- Bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!-- Material JavaScript on top of Bootstrap JavaScript -->
<script src="/assets/daemonite-material/js/material.min.js"></script>

<!-- Include and configure MathJax -->
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
      jax: ["input/AsciiMath", "input/TeX", "input/MathML", "output/HTML-CSS"],
      asciimath2jax: {
         delimiters: [['`','`'], ['$$','$$'], ['$','$']]
      },
      "HTML-CSS": {
         preferredFont:"TeX", availableFonts:["STIX","TeX"]
      }
   });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>

<script src="/assets/js/mermaid.min.js"></script>

<!-- Google analytics -->


<!-- Sidebar -->
<script src="/assets/js/sidebar.js"></script>



   </body>

</html>
